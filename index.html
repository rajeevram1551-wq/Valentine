<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>Be My Valentine?</title>

<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">

<style>
html, body{
    margin:0;
    padding:0;
    height:100%;
    overflow:hidden;
    font-family:'Georgia', serif;
}

/* Background */
#poster{
    position:fixed;
    inset:0;
    background-image:url('image.png');
    background-size:cover;
    background-position:center;
    background-repeat:no-repeat;
    transition:background-image 0.4s ease-in-out;
}

.overlay{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.25);
}

/* Buttons at 80% */
.controls{
    position:fixed;
    top:80%;
    left:50%;
    transform:translate(-50%,-50%);
    display:flex;
    gap:25px;
}

.btn{
    padding:14px 28px;
    font-size:1rem;
    border-radius:40px;
    border:none;
    font-weight:600;
    min-width:110px;
    cursor:pointer;
}

/* YES glowing pulse */
#yes{
    background:linear-gradient(135deg,#ff758c,#ff7eb3);
    color:white;
    animation:pulseGlow 2s infinite;
}

@keyframes pulseGlow{
    0%{ box-shadow:0 0 8px rgba(255,118,150,.6); transform:scale(1);}
    50%{ box-shadow:0 0 25px rgba(255,118,150,1); transform:scale(1.06);}
    100%{ box-shadow:0 0 8px rgba(255,118,150,.6); transform:scale(1);}
}

#no{
    background:rgba(255,255,255,0.95);
    color:#b23a48;
}

#noWrapper{ position:relative; }

#funny{
    position:absolute;
    bottom:120%;
    width:100%;
    text-align:center;
    font-size:0.8rem;
    color:white;
    font-style:italic;
    text-shadow:0 0 8px black;
    white-space:nowrap;
}

/* Success */
.success{
    position:fixed;
    inset:0;
    background:linear-gradient(to bottom,#fff0f3,#ffe4ec);
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    text-align:center;
}

.success h2{
    font-family:'Great Vibes', cursive;
    font-size:2.8rem;
    color:#d6336c;
}

.success img{
    width:85%;
    border-radius:18px;
    margin:20px 0;
}

.success p{
    font-size:1.2rem;
    color:#6d2e46;
}
</style>
</head>

<body>

<div id="poster"></div>
<div class="overlay"></div>

<div class="controls">
    <button id="yes" class="btn">Yes</button>

    <div id="noWrapper">
        <div id="funny"></div>
        <button id="no" class="btn">No</button>
    </div>
</div>

<script>

/* Funny phrases */
const funnyPhrases=[
"Nice try! üòâ",
"Catch me first! üèÉ‚Äç‚ôÇÔ∏è",
"Fight Bro! ü•ä",
"I‚Äôm shy... üëâüëà",
"Try yes! ‚ú®",
"Wrong way! üòÇ",
"Almost! üí®",
"No chance! üö´",
"Keep trying! üòú"
];

let lastIndex=-1;

/* Background images */
const images=[
"image.png",
"image1.png",
"image2.png",
"image3.png",
"image4.png",
"image5.png",
"image6.png",
"image7.png",
"image8.png"
];

let currentImageIndex=0;

const poster=document.getElementById("poster");
const noWrapper=document.getElementById("noWrapper");
const noBtn=document.getElementById("no");
const funny=document.getElementById("funny");

/* Safe viewport size (mobile reliable) */
function getViewportHeight(){
    return window.visualViewport ? window.visualViewport.height : window.innerHeight;
}

/* Move No safely */
function moveNo(){

    const padding=20;

    const w=noWrapper.offsetWidth;
    const h=noWrapper.offsetHeight;

    const viewportWidth=window.innerWidth;
    const viewportHeight=getViewportHeight();

    const maxX=viewportWidth-w-padding;
    const maxY=viewportHeight-h-padding;

    const x=Math.max(padding,Math.random()*maxX);
    const y=Math.max(padding,Math.random()*maxY);

    noWrapper.style.position="fixed";
    noWrapper.style.left=x+"px";
    noWrapper.style.top=y+"px";

    /* Change funny text */
    let index;
    do{
        index=Math.floor(Math.random()*funnyPhrases.length);
    }while(index===lastIndex);

    lastIndex=index;
    funny.innerText=funnyPhrases[index];

    /* Change background */
    currentImageIndex=(currentImageIndex+1)%images.length;
    poster.style.backgroundImage="url('"+images[currentImageIndex]+"')";
}

noBtn.addEventListener("touchstart", moveNo);
noBtn.addEventListener("click", moveNo);

/* YES */
document.getElementById("yes").addEventListener("click",()=>{
    document.body.innerHTML=`
        <div class="success">
            <h2>Yay üíñ</h2>
            <img src="yay.png">
            <p>You're the best thing of my life ‚ù§Ô∏è</p>
        </div>
    `;
});
</script>

</body>
</html>
