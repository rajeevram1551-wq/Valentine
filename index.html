<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Be My Valentine?</title>

<style>
html, body{
    margin:0;
    padding:0;
    height:100%;
    overflow:hidden;
    font-family:Georgia, serif;
}

/* Background */
#poster{
    position:fixed;
    inset:0;
    background-image:url('image.png');
    background-size:cover;
    background-position:center;
    background-repeat:no-repeat;
    transition:background-image .4s ease;
}

.overlay{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.25);
}

/* Controls */
.controls{
    position:fixed;
    inset:0;
}

/* YES */
#yes{
    position:absolute;
    top:80%;
    left:45%;
    transform:translate(-50%,-50%) scale(1);
    padding:14px 28px;
    font-size:1rem;
    border-radius:40px;
    border:none;
    font-weight:600;
    cursor:pointer;
    background:linear-gradient(135deg,#ff758c,#ff7eb3);
    color:white;
    transition:transform .3s ease;
    animation:pulse 2s infinite;
}

@keyframes pulse{
    0%{box-shadow:0 0 8px rgba(255,118,150,.6);}
    50%{box-shadow:0 0 25px rgba(255,118,150,1);}
    100%{box-shadow:0 0 8px rgba(255,118,150,.6);}
}

/* NO */
#noWrapper{
    position:absolute;
    top:80%;
    left:55%;
    transform:translate(-50%,-50%);
    transition:left .45s cubic-bezier(.25,.8,.25,1),
               top .45s cubic-bezier(.25,.8,.25,1);
}

#no{
    padding:14px 28px;
    font-size:1rem;
    border-radius:40px;
    border:none;
    font-weight:600;
    background:rgba(255,255,255,0.95);
    color:#b23a48;
    cursor:pointer;
}

#funny{
    position:absolute;
    bottom:120%;
    width:100%;
    text-align:center;
    font-size:0.8rem;
    color:white;
    text-shadow:0 0 8px black;
}

/* Rockets */
.rocket{
    position:fixed;
    bottom:0;
    width:4px;
    height:20px;
    background:white;
    animation:launch 1s ease-out forwards;
}

@keyframes launch{
    to{
        transform:translateY(-90vh);
        opacity:0;
    }
}

/* Firework explosion */
.firework{
    position:fixed;
    width:6px;
    height:6px;
    border-radius:50%;
    pointer-events:none;
    animation:explode 1s ease-out forwards;
}

@keyframes explode{
    to{
        transform:translate(var(--x), var(--y));
        opacity:0;
    }
}

/* Confetti */
.confetti{
    position:fixed;
    width:8px;
    height:14px;
    top:-20px;
    animation:fall 3s linear forwards;
}

@keyframes fall{
    to{
        transform:translateY(110vh) rotate(720deg);
        opacity:0;
    }
}
</style>
</head>

<body>

<div id="poster"></div>
<div class="overlay"></div>

<div class="controls">
    <button id="yes">Yes</button>

    <div id="noWrapper">
        <div id="funny"></div>
        <button id="no">No</button>
    </div>
</div>

<script>

/* Funny phrases */
const funnyPhrases=[
"Nice try! üòâ",
"Catch me first! üèÉ‚Äç‚ôÇÔ∏è",
"Fight Bro! ü•ä",
"I‚Äôm shy... üëâüëà",
"Try yes! ‚ú®",
"Wrong way! üòÇ",
"Almost! üí®",
"No chance! üö´",
"Keep trying! üòú"
];

let lastIndex=-1;
let yesScale=1;

/* Background images */
const images=[
"image.png",
"image1.png",
"image2.png",
"image3.png",
"image4.png",
"image5.png",
"image6.png",
"image7.png",
"image8.png"
];

let currentImageIndex=0;

const poster=document.getElementById("poster");
const noWrapper=document.getElementById("noWrapper");
const noBtn=document.getElementById("no");
const funny=document.getElementById("funny");
const yesBtn=document.getElementById("yes");

/* Glide No inside 80% safe area */
function moveNo(){

    const screenW=window.innerWidth;
    const screenH=window.innerHeight;

    const w=noWrapper.offsetWidth;
    const h=noWrapper.offsetHeight;

    const minX=screenW*0.10;
    const maxX=screenW*0.90 - w;

    const minY=screenH*0.10;
    const maxY=screenH*0.90 - h;

    const x=minX + Math.random()*(maxX-minX);
    const y=minY + Math.random()*(maxY-minY);

    noWrapper.style.left=x+"px";
    noWrapper.style.top=y+"px";
    noWrapper.style.transform="none";

    /* Funny text */
    let idx;
    do{
        idx=Math.floor(Math.random()*funnyPhrases.length);
    }while(idx===lastIndex);
    lastIndex=idx;
    funny.innerText=funnyPhrases[idx];

    /* Change background */
    currentImageIndex=(currentImageIndex+1)%images.length;
    poster.style.backgroundImage=`url('${images[currentImageIndex]}')`;

    /* YES grows */
    yesScale += 0.05;
    yesBtn.style.transform=`translate(-50%,-50%) scale(${yesScale})`;
}

noBtn.addEventListener("click", moveNo);
noBtn.addEventListener("touchstart", moveNo);

/* YES click ‚Äì Fireworks + Confetti */
yesBtn.addEventListener("click",()=>{

    const colors=["#ff4d6d","#ff85a1","#ffd6e0","#fff","#ff758c"];

    /* Launch rockets */
    for(let r=0;r<3;r++){

        const rocket=document.createElement("div");
        rocket.className="rocket";

        const startX=Math.random()*window.innerWidth;
        rocket.style.left=startX+"px";

        document.body.appendChild(rocket);

        setTimeout(()=>{

            const topY=window.innerHeight*0.2 + Math.random()*100;

            for(let i=0;i<40;i++){
                const particle=document.createElement("div");
                particle.className="firework";
                particle.style.left=startX+"px";
                particle.style.top=topY+"px";
                particle.style.background=colors[Math.floor(Math.random()*colors.length)];

                const angle=Math.random()*2*Math.PI;
                const dist=80+Math.random()*100;

                particle.style.setProperty("--x",Math.cos(angle)*dist+"px");
                particle.style.setProperty("--y",Math.sin(angle)*dist+"px");

                document.body.appendChild(particle);
                setTimeout(()=>particle.remove(),1000);
            }

            rocket.remove();

        },900);
    }

    /* Show success screen after fireworks */
    setTimeout(()=>{

        document.body.innerHTML=`
        <div style="
            position:fixed;
            inset:0;
            display:flex;
            flex-direction:column;
            align-items:center;
            justify-content:center;
            background:linear-gradient(to bottom,#fff0f3,#ffe4ec);
            text-align:center;
            padding:20px;
        ">
            <h2 style="font-size:2.8rem;color:#d6336c;">Yay üíñ</h2>
            <img src="yay.png" style="width:85%;border-radius:18px;margin:20px 0;">
            <p style="font-size:1.3rem;color:#6d2e46;">
                You're the best thing of my life ‚ù§Ô∏è
            </p>
        </div>
        `;

        /* Confetti rain */
        for(let i=0;i<120;i++){
            const conf=document.createElement("div");
            conf.className="confetti";
            conf.style.left=Math.random()*100+"vw";
            conf.style.background=colors[Math.floor(Math.random()*colors.length)];
            document.body.appendChild(conf);
        }

    },2000);

});

</script>

</body>
</html>
