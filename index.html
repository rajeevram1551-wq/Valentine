<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Be My Valentine?</title>

<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">

<style>
html, body{
    margin:0;
    padding:0;
    height:100%;
    overflow:hidden;
    font-family:'Georgia', serif;
    touch-action:manipulation;
}

/* Background */
.poster{
    position:fixed;
    inset:0;
    background:url('image.png') center center / cover no-repeat;
    transition:background-image 0.4s ease-in-out;
}

.overlay{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.25);
}

/* Buttons at 80% */
.controls{
    position:fixed;
    top:80%;
    left:50%;
    transform:translate(-50%,-50%);
    display:flex;
    gap:25px;
}

/* Buttons */
.btn{
    padding:14px 28px;
    font-size:1rem;
    border-radius:40px;
    border:none;
    font-weight:600;
    min-width:110px;
    cursor:pointer;
}

/* YES glowing pulse */
#yes{
    background:linear-gradient(135deg,#ff758c,#ff7eb3);
    color:white;
    animation:pulseGlow 2s infinite;
}

@keyframes pulseGlow{
    0%{ box-shadow:0 0 8px rgba(255,118,150,.6); transform:scale(1);}
    50%{ box-shadow:0 0 25px rgba(255,118,150,1); transform:scale(1.06);}
    100%{ box-shadow:0 0 8px rgba(255,118,150,.6); transform:scale(1);}
}

#no{
    background:rgba(255,255,255,0.95);
    color:#b23a48;
}

/* Funny text */
#noWrapper{ position:relative; }

#funny{
    position:absolute;
    bottom:120%;
    width:100%;
    text-align:center;
    font-size:0.8rem;
    color:white;
    font-style:italic;
    text-shadow:0 0 8px black;
    white-space:nowrap;
}

/* Success screen */
.success{
    position:fixed;
    inset:0;
    background:linear-gradient(to bottom,#fff0f3,#ffe4ec);
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    text-align:center;
}

.success h2{
    font-family:'Great Vibes', cursive;
    font-size:2.8rem;
    color:#d6336c;
}

.success img{
    width:85%;
    border-radius:18px;
    margin:20px 0;
}

.success p{
    font-size:1.2rem;
    color:#6d2e46;
    padding:0 20px;
}

/* Confetti */
.confetti{
    position:fixed;
    width:6px;
    height:12px;
    top:-20px;
    animation:fall 3s linear forwards;
}

@keyframes fall{
    to{
        transform:translateY(110vh) rotate(720deg);
        opacity:0;
    }
}

/* Spark burst */
.spark{
    position:fixed;
    width:5px;
    height:5px;
    border-radius:50%;
    pointer-events:none;
    animation:sparkFly 600ms ease-out forwards;
}

@keyframes sparkFly{
    to{
        transform:translate(var(--x), var(--y));
        opacity:0;
    }
}
</style>
</head>

<body>

<div class="poster" id="poster"></div>
<div class="overlay"></div>

<div class="controls">
    <button id="yes" class="btn">Yes</button>

    <div id="noWrapper">
        <div id="funny"></div>
        <button id="no" class="btn">No</button>
    </div>
</div>

<script>

/* Funny text list */
const funnyPhrases=[
"Nice try! üòâ",
"Catch me first! üèÉ‚Äç‚ôÇÔ∏è",
"Fight Bro! ü•ä",
"I‚Äôm shy... üëâüëà",
"Try yes! ‚ú®",
"Wrong way! üòÇ",
"Almost! üí®",
"No chance! üö´",
"Keep trying! üòú"
];

let lastIndex=-1;

/* Background images list */
const images=[
"image.png",
"image1.png",
"image2.png",
"image3.png",
"image4.png",
"image5.png",
"image6.png",
"image7.png",
"image8.png"
];

let currentImageIndex=0;

const poster=document.getElementById("poster");
const noWrapper=document.getElementById("noWrapper");
const noBtn=document.getElementById("no");
const funny=document.getElementById("funny");

/* Move No + Change Background */
function moveNo(){

    const padding=15;
    const w=noWrapper.offsetWidth;
    const h=noWrapper.offsetHeight;

    const maxX=window.innerWidth-w-padding;
    const maxY=window.innerHeight-h-padding;

    const x=Math.max(padding,Math.random()*maxX);
    const y=Math.max(padding,Math.random()*maxY);

    noWrapper.style.position="fixed";
    noWrapper.style.left=x+"px";
    noWrapper.style.top=y+"px";

    /* Change funny text */
    let index;
    do{
        index=Math.floor(Math.random()*funnyPhrases.length);
    }while(index===lastIndex);

    lastIndex=index;
    funny.innerText=funnyPhrases[index];

    /* Change background image */
    currentImageIndex++;
    if(currentImageIndex >= images.length){
        currentImageIndex = 0;
    }

    poster.style.backgroundImage = `url('${images[currentImageIndex]}')`;
}

noBtn.addEventListener("touchstart", moveNo);
noBtn.addEventListener("click", moveNo);

/* YES click */
document.getElementById("yes").addEventListener("click",(e)=>{

    const rect=e.target.getBoundingClientRect();
    const centerX=rect.left+rect.width/2;
    const centerY=rect.top+rect.height/2;

    /* Spark burst */
    for(let i=0;i<35;i++){
        const spark=document.createElement("div");
        spark.className="spark";
        spark.style.left=centerX+"px";
        spark.style.top=centerY+"px";
        spark.style.background=["#ff4d6d","#ff85a1","#ffd6e0","#fff","#ff758c"][Math.floor(Math.random()*5)];

        const angle=Math.random()*2*Math.PI;
        const dist=70+Math.random()*60;

        spark.style.setProperty("--x",Math.cos(angle)*dist+"px");
        spark.style.setProperty("--y",Math.sin(angle)*dist+"px");

        document.body.appendChild(spark);
        setTimeout(()=>spark.remove(),600);
    }

    setTimeout(()=>{
        document.body.innerHTML=`
            <div class="success">
                <h2>Yay üíñ</h2>
                <img src="yay.png">
                <p>You're the best thing of my life ‚ù§Ô∏è</p>
            </div>
        `;

        for(let i=0;i<90;i++){
            const conf=document.createElement("div");
            conf.className="confetti";
            conf.style.left=Math.random()*100+"vw";
            conf.style.background=["#ff4d6d","#ff85a1","#ffd6e0","#ff758c"][Math.floor(Math.random()*4)];
            document.body.appendChild(conf);
        }

    },500);
});

</script>

</body>
</html>
